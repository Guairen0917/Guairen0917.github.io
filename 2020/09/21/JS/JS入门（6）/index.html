<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="心に描く夢のヘブンズ" href="https://guairen0917.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="心に描く夢のヘブンズ" href="https://guairen0917.github.io/atom.xml"><link rel="alternate" type="application/json" title="心に描く夢のヘブンズ" href="https://guairen0917.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="JS基础"><link rel="canonical" href="https://guairen0917.github.io/2020/09/21/JS/JS%E5%85%A5%E9%97%A8%EF%BC%886%EF%BC%89/"><title>JS入门（6） - Js - web前端 | XXVV = 心に描く夢のヘブンズ = =永远相信美好即将来临=</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">JS入门（6）</h1><div class="meta"><span class="item" title="创建时间：2020-09-21 20:46:25"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-09-21T20:46:25+08:00">2020-09-21</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">XXVV</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclx29mstj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxp31goj20zk0m8qv5.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclx6phq6j20zk0m8e36.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevuctzzj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/web%E5%89%8D%E7%AB%AF/" itemprop="item" rel="index" title="分类于 web前端"><span itemprop="name">web前端</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/web%E5%89%8D%E7%AB%AF/Js/" itemprop="item" rel="index" title="分类于 Js"><span itemprop="name">Js</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://guairen0917.github.io/2020/09/21/JS/JS%E5%85%A5%E9%97%A8%EF%BC%886%EF%BC%89/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="XXVV"><meta itemprop="description" content="=永远相信美好即将来临=, 找个好工作，让亲戚朋友更有面子~"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="心に描く夢のヘブンズ"></span><div class="body md" itemprop="articleBody"><h1 id="js入门6"><a class="anchor" href="#js入门6">#</a> JS 入门（6）</h1><h2 id="服务器"><a class="anchor" href="#服务器">#</a> 服务器</h2><pre><code class="language-text">存在本地的php必须放在 	D:\..\PHPnow\htdocs   里才能再网页运行
网址：http://localhost/__
</code></pre><h2 id="php语法快速入门"><a class="anchor" href="#php语法快速入门">#</a> PHP 语法快速入门</h2><h3 id="输出"><a class="anchor" href="#输出">#</a> 输出</h3><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'content-type:text/html;charset="utf-8"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 引入头文件 必须的</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    【注】PHP 代码兼容 html 和 css 所有的代码。</pre></td></tr><tr><td data-num="4"></td><td><pre>    【注】php 的语法是非常严格的，每一条语句后面都必须加分号。</pre></td></tr><tr><td data-num="5"></td><td><pre>*/</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h1>hello world&lt;/h1>"</span><span class="token punctuation">;</span>		<span class="token comment">// 空格</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"&lt;h1>hello world&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 括号</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">print_r</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"&lt;h1>hello world&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 只能括号输出 空格会报错</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="12"></td><td><pre>    类似于 js 中的 console.log ()   测试程序</pre></td></tr><tr><td data-num="13"></td><td><pre>*/</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="变量"><a class="anchor" href="#变量">#</a> 变量</h3><pre><code class="language-text">变量以 $ 符号开始，后面跟变量的名称
变量名必须以字母或者下划线字符开始
变量名只能包含字母数字字符以及下划线(A-z、0-9和_)
变量名不能包含空格
变量名是区分大小写的($y和$Y是两个不同的变量)
</code></pre><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'content-type:text/html;charset="utf-8"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">/* </span></pre></td></tr><tr><td data-num="4"></td><td><pre>        php 声明变量通过 $ 符号进行声明</pre></td></tr><tr><td data-num="5"></td><td><pre>        弱引用类型：给变量赋值什么数据，就是什么数据类型。</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>        php 字符串拼接的时候，用的不是加号，而是 .</pre></td></tr><tr><td data-num="9"></td><td><pre>        php 在进行字符串拼接的时候：占位符的方式进行拼接 &#123;变量 / 表达式&#125;</pre></td></tr><tr><td data-num="10"></td><td><pre>    */</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"钢铁侠"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token variable">$age</span> <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"我是"</span><span class="token operator">.</span><span class="token variable">$username</span><span class="token operator">.</span><span class="token string double-quoted-string">",今年"</span><span class="token operator">.</span><span class="token variable">$age</span><span class="token operator">.</span><span class="token string double-quoted-string">"岁&lt;br/>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"我是<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$username</span><span class="token punctuation">&#125;</span></span>,今年<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$age</span><span class="token punctuation">&#125;</span></span>岁"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token delimiter important">?></span></pre></td></tr></table></figure><h3 id="数据类型"><a class="anchor" href="#数据类型">#</a> 数据类型</h3><pre><code class="language-text">String		字符串
Integer		整型
Float		浮点型
Boolean		布尔型
Array		数组
Object		对象
Null		空值
</code></pre><h3 id="分支语句"><a class="anchor" href="#分支语句">#</a> 分支语句</h3><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token variable">$isYes</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$isYes</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"是"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"否"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token variable">$num</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token variable">$num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"数字1"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"数字2"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">default</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"输入错误"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"下标"</span><span class="token operator">.</span><span class="token variable">$i</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;br/>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">function</span> <span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">print</span> <span class="token string double-quoted-string">"hello world&lt;br/>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 调用几次打印几次</span></pre></td></tr></table></figure><h3 id="数组"><a class="anchor" href="#数组">#</a> 数组</h3><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    1、索引数组  下标是数字叫做索引数组</pre></td></tr><tr><td data-num="3"></td><td><pre>    2、关联数组  下标是字符串叫关联数组   （类似于 ECMA6 的 map 类型）</pre></td></tr><tr><td data-num="4"></td><td><pre>    3、全局数组</pre></td></tr><tr><td data-num="5"></td><td><pre>        $_GET  接收通过 get 提交过来的所有的数据</pre></td></tr><tr><td data-num="6"></td><td><pre>        $_POST 接收通过 post 提交过来的所有的数据</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>        数组中的索引数组和关联数组可以相互结合，结合成多维数组。</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    数组的长度 count ($cars)  返回数组的长度</pre></td></tr><tr><td data-num="11"></td><td><pre>*/</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//1、索引数组</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token variable">$cars</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"大众"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"别克"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"现代"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">array_push</span><span class="token punctuation">(</span><span class="token variable">$cars</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"宝马"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"奔驰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 插入数据</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//echo $cars [1];	通过下标 [i] 输出</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">//count ($cars) 数组的长度</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$cars</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"下标:<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$i</span><span class="token punctuation">&#125;</span></span>, 数据:<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$cars</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span>&lt;br/>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">//2、关联数组 / 键值数组</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"王五"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"打渔的"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"李四"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"种地的"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"张三"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"打猎的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">//as 后面的 键值对：key 对应 $value</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$arr</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"下标:<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$key</span><span class="token punctuation">&#125;</span></span>, 数据:<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$value</span><span class="token punctuation">&#125;</span></span>&lt;br/>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 二维数组 最外层是索引数组 里面是 关联数组 (键值对)</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"小白"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"english"</span> <span class="token operator">=></span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"math"</span> <span class="token operator">=></span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"小花"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"english"</span> <span class="token operator">=></span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"math"</span> <span class="token operator">=></span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"小红"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"english"</span> <span class="token operator">=></span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"math"</span> <span class="token operator">=></span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token keyword">echo</span> <span class="token variable">$arr</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"math"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">/* for($i = 0; $i &lt; count($arr); $i++)&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    var_dump($arr[$i]."&lt;br/>");</pre></td></tr><tr><td data-num="43"></td><td><pre>&#125; */</pre></td></tr></table></figure><pre><code class="language-text">	数组函数
array-keys()		//返回数组中所有的键名。
array-pop()			//删除数组中的最后一个元素（出栈）。
array_push()		//将一个或多个元素插入数组的末尾（入栈）。
array-rand()		//从数组中随机选出一个或多个元素，返回键名。
array-shift()		//删除数组中的第一个元素，并返回被删除元素的值。
count()				//返回数组中元素的数目。
in-array()			//检查数组中是否存在指定的值。
------------------------------------------------------------
	字符串函数
explode()			//把字符串打散为数组。
implode()			//返回一个由数组元素组合成的字符串。
join() implode()	//合并成数组。
trim()				//去掉字符串两边的字符
md5()				//计算字符串的 MD5 散列。
str_replace()		//替换字符串中的一些字符（大小写敏感）。
</code></pre><pre><code class="language-text">	时间函数
date();								//获取当前的日期
date('Y-m-d H:i:s');				//获取当前的日期，格式化
time();								//获取时间戳
strtotime('2017-01-01 0:0:0');		//字符串转换成时间戳
getdate();							//返回某个时间戳或者当前本地的日期/时间的日期/时间信息。
microtime();						//返回当前 Unix 时间器的微秒数。
mktime();							//返回一个日期的 Unix 时间戳。
</code></pre><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'content-type:text/html;charset="utf-8"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre> <span class="token comment">//var_dump($_POST);</span></pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token comment">// 定义统一返回格式</span></pre></td></tr><tr><td data-num="6"></td><td><pre> <span class="token variable">$responseData</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"code"</span> <span class="token operator">=></span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"message"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token comment">// 将 post 提交的数据取出</span></pre></td></tr><tr><td data-num="9"></td><td><pre> <span class="token variable">$username</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre> <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token variable">$repassword</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'repassword'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre> <span class="token variable">$ceatetime</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'createTime'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre> <span class="token comment">// 对后台接收的数据进行判断</span></pre></td></tr><tr><td data-num="15"></td><td><pre> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$username</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"请输入用户名！"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>     <span class="token comment">// 将数据按照统一的返回格式返回</span></pre></td></tr><tr><td data-num="19"></td><td><pre>     <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>     <span class="token keyword">exit</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"请输入密码！"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>     <span class="token comment">// 将数据按照统一的返回格式返回</span></pre></td></tr><tr><td data-num="27"></td><td><pre>     <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>     <span class="token keyword">exit</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">!=</span> <span class="token variable">$repassword</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>     <span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"两次密码不一致，请重输！"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>     <span class="token comment">// 将数据按照统一的返回格式返回</span></pre></td></tr><tr><td data-num="35"></td><td><pre>     <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>     <span class="token keyword">exit</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre> <span class="token comment">// 写入数据库 8 步走</span></pre></td></tr><tr><td data-num="39"></td><td><pre> <span class="token comment">//1. 链接数据库</span></pre></td></tr><tr><td data-num="40"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="41"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="42"></td><td><pre>     $link = mysqli_connect ("localhost", "root", "root");</pre></td></tr><tr><td data-num="43"></td><td><pre> */</pre></td></tr><tr><td data-num="44"></td><td><pre> <span class="token comment">//PHP5.6 语法 </span></pre></td></tr><tr><td data-num="45"></td><td><pre> <span class="token variable">$link</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre> <span class="token comment">//2. 判断数据库是否链接成功</span></pre></td></tr><tr><td data-num="48"></td><td><pre> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"服务器繁忙，请稍后重试！"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		<span class="token keyword">exit</span><span class="token punctuation">;</span> <span class="token comment">// 终止后续所有的代码</span></pre></td></tr><tr><td data-num="53"></td><td><pre> <span class="token punctuation">&#125;</span> </pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre> <span class="token comment">//3. 设置字符集</span></pre></td></tr><tr><td data-num="56"></td><td><pre> <span class="token function">mysql_set_charset</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="58"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="59"></td><td><pre>     mysqli_set_charset ($link, "utf8");</pre></td></tr><tr><td data-num="60"></td><td><pre> */</pre></td></tr><tr><td data-num="61"></td><td><pre></pre></td></tr><tr><td data-num="62"></td><td><pre> <span class="token comment">//4. 连接数据库</span></pre></td></tr><tr><td data-num="63"></td><td><pre> <span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"xiaomi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="65"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="66"></td><td><pre>     mysql_select_db ($link, "xiaomi");</pre></td></tr><tr><td data-num="67"></td><td><pre> */</pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre> <span class="token comment">//5. 准备 sql  验证用户名是否重名</span></pre></td></tr><tr><td data-num="70"></td><td><pre> <span class="token variable">$sql1</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM users WHERE username='<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$username</span><span class="token punctuation">&#125;</span></span>'"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre> <span class="token comment">//6. 发送 sql 语句</span></pre></td></tr><tr><td data-num="73"></td><td><pre> <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="75"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="76"></td><td><pre>     $res = mysqli_query ($link, $sql1);</pre></td></tr><tr><td data-num="77"></td><td><pre> */</pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre> <span class="token comment">//var_dump ($res);  返回一个 mysql result</span></pre></td></tr><tr><td data-num="80"></td><td><pre> <span class="token comment">//7. 取出取出一行数据</span></pre></td></tr><tr><td data-num="81"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="82"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="83"></td><td><pre>     $res = mysqli_fetch_assoc ($link, $res);</pre></td></tr><tr><td data-num="84"></td><td><pre> */</pre></td></tr><tr><td data-num="85"></td><td><pre> <span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>		<span class="token comment">// 用户名重名</span></pre></td></tr><tr><td data-num="88"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"用户已存在"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		<span class="token keyword">exit</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre> <span class="token comment">//md5 加密</span></pre></td></tr><tr><td data-num="95"></td><td><pre>	<span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"xxx"</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"yyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre></pre></td></tr><tr><td data-num="97"></td><td><pre> <span class="token comment">// 准备 sql 将数据插入到数据库中</span></pre></td></tr><tr><td data-num="98"></td><td><pre> <span class="token variable">$sql2</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"INSERT INTO users(username,password,createtime) VALUES('<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$username</span><span class="token punctuation">&#125;</span></span>',<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$password</span><span class="token punctuation">&#125;</span></span>','<span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token variable">$ceatetime</span><span class="token punctuation">&#125;</span></span>')"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre> <span class="token comment">//echo $sql2; 返回 sql 语句是否正确</span></pre></td></tr><tr><td data-num="100"></td><td><pre></pre></td></tr><tr><td data-num="101"></td><td><pre> <span class="token comment">// 返回布尔值</span></pre></td></tr><tr><td data-num="102"></td><td><pre> <span class="token variable">$res2</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre></pre></td></tr><tr><td data-num="104"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$res2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"code"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"注册失败"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>     <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>     <span class="token keyword">exit</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>		<span class="token variable">$responseData</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"注册成功"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>		<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$responseData</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="113"></td><td><pre></pre></td></tr><tr><td data-num="114"></td><td><pre> <span class="token comment">//8. 关闭数据库</span></pre></td></tr><tr><td data-num="115"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="116"></td><td><pre>     PHP7 语法</pre></td></tr><tr><td data-num="117"></td><td><pre>     mysqli_close ($link);</pre></td></tr><tr><td data-num="118"></td><td><pre> */</pre></td></tr><tr><td data-num="119"></td><td><pre> <span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="120"></td><td><pre></pre></td></tr><tr><td data-num="121"></td><td><pre><span class="token delimiter important">?></span></pre></td></tr></table></figure><h2 id="mysql"><a class="anchor" href="#mysql">#</a> MySQL</h2><h3 id="登录"><a class="anchor" href="#登录">#</a> 登录</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>cmd<span class="token operator">></span>mysql-h-u root-p说明：mysql是一个程序，-h主机-u用户-p密码（如果直接在-p后写密码，就不要给空格；建议一个标准的登录方式，在默认情况下-</pre></td></tr><tr><td data-num="2"></td><td><pre>h后面就是本机）</pre></td></tr><tr><td data-num="3"></td><td><pre>cmd<span class="token operator">></span>mysql-u root -p【回车后输入密码即可】</pre></td></tr><tr><td data-num="4"></td><td><pre>cmd<span class="token operator">></span>mysql-h localhost-y root-p【回车后输入密码即可】</pre></td></tr></table></figure><h3 id="基本操作"><a class="anchor" href="#基本操作">#</a> 基本操作</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span>、创建一个名称为db1的数据库</pre></td></tr><tr><td data-num="2"></td><td><pre>create database db1<span class="token punctuation">;</span>一定要记得带分号</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">2</span>、创建一个使用utf-8字符集的db2数据库</pre></td></tr><tr><td data-num="5"></td><td><pre>create database db2 character <span class="token builtin class-name">set</span> utf8<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">3</span>、创建一个使用utf-8字符集，并带校对规则</pre></td></tr><tr><td data-num="8"></td><td><pre>（utf8_general_ci）的mydb3数据库（校对规则，可以理解成排序规则，默认utf8_general_ci ci代表大小写不敏感）</pre></td></tr><tr><td data-num="9"></td><td><pre>create database db3 character <span class="token builtin class-name">set</span> outfit collate t8 generaLci<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>操作对应database		use database<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>查看数据库				show databases<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>查看表			 		show tables<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>查看表结构				desc 表名<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>显示数据库创建语句 		SHOW CREATE DATABASE db_name；</pre></td></tr><tr><td data-num="16"></td><td><pre>数据库删除语句：		DROP DATABASE <span class="token punctuation">[</span>IF EXISTS<span class="token punctuation">]</span> db_name<span class="token punctuation">;</span> IF EXISTS 可选的如果存在的话删除，如果不存在的话就不删除。</pre></td></tr></table></figure><h3 id="基本语法"><a class="anchor" href="#基本语法">#</a> 基本语法</h3><pre><code class="language-text">create table 表明 (
	字段名1 数据类型,
	字段名2 数据类型,
	...
	字段名n 数据类型,
)character set 字符串 collate 校对规则;
【注】表是可以执行字符集的，遵从以表为准。
说明：
（1）表中有多少个字段，根据需求来确定。
（2）这里表中的数据类型，指的是mysql的数据类型。API
</code></pre><h3 id="数据类型-2"><a class="anchor" href="#数据类型-2">#</a> 数据类型</h3><pre><code class="language-text">int		整形
float 	浮点数

char(10)
varchar(30)

date 	日期	&quot;2000-01-01&quot;

text 	文本	(理论上没上限)
</code></pre><h3 id="sql语句"><a class="anchor" href="#sql语句">#</a> SQL 语句</h3><ul><li><p>insert 插入语句</p><pre><code class="language-text">INSERT INTO表名(字段1,字段2,...) VALUES(具体的值1,具体的值2,...);

添加数据有两种方式：（1）指定字段名（2）添加全部字段

注意事项：
 （1）插入的数据应与字段的数据类型相同。
 （2）数据的大小应在列的规定范围内，例如：不能将一个长度为80的字符串加入到长度为40的列中。
 （3）在values中列出的数据位置必须与被加入的列的排序位置相对应。
 （4）字符和日期型数据应包含在单引号中。
 （5）如果我们添加的字段是包含所有的字段，可以不写前面的字段列表。反之，如果你添加的字段，不是所有的，而是一部分字段，则一定要写清楚字段列表。
</code></pre></li><li><p>update 更新语句</p><pre><code class="language-text">使用update语句修改表中的数据

UPDATE 表名 SET 字段名1 = 新值,字段名2 = 新值,... WHERE 条件；
</code></pre></li><li><p>delete 删除语句</p><pre><code class="language-text">使用delete语句删除表中的数据

DELETE FROM 表名 WHERE 条件;

特别说明：
 （1）如果我们的DELETE语句，没有WHERE条件，则就是把整个表的所有记录全部删除。
表依然存在，数据为空。
 （2）Delete语句不能删除某一列的值（可以使用update）
 （3）使用delete语句仅删除记录，不删除表本身，如果删除表，使用 drop table。
 （4）删除表中的数据我们也可以使用TRUNCATE TABLE语句，它和delete有所不同。
     truncate table 表名;  不能带条件，所以尽量使用delete。
</code></pre></li><li><p>select 查询语句</p><pre><code class="language-text">SELECT 字段1,字段2,... FROM 表名 WHERE 条件;
SELECT [DISTINCT] * FROM 表名 WHERE 条件；

说明：如果我们想把该表的所有字段信息都取出来，则可以直接使用*表示
</code></pre></li><li><p>order by 排序</p><pre><code class="language-text">【注】我们在查询结果的时候，我们通常都希望按照某个字段的顺序进行
排序后，在显示，比如按照数学或者英语的高低排序。

SELECT 字段名1,字段名2,... FROM 表名 WHERE 条件 ORDER BY 字段 [asc|desc];

说明：
 （1）ORDER BY字段该字段就是你希望排序的那个字段。
 （2）ORDER BY 后面可以带asc 或者desc，asc标识升序排列，desc表示降序排序，默认是asc
</code></pre></li></ul><h4 id="通过php操作数据库"><a class="anchor" href="#通过php操作数据库">#</a> 通过 php 操作数据库</h4><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> </span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-type:text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    链接数据库  天龙八部</pre></td></tr><tr><td data-num="5"></td><td><pre>*/</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//1、链接数据库</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    第一个参数：链接数据库的 IP / 域名</pre></td></tr><tr><td data-num="9"></td><td><pre>    第二个参数：用户名</pre></td></tr><tr><td data-num="10"></td><td><pre>    第三个参数：密码</pre></td></tr><tr><td data-num="11"></td><td><pre>*/</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token variable">$link</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">//2、判断是否连接成功</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"链接失败"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">exit</span><span class="token punctuation">;</span> <span class="token comment">// 终止后续所有的代码</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">//3、设置字符集</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token function">mysql_set_charset</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">//4、选择数据库	mysql_select_db ("database");</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"yyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">//5、准备 sql 语句</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM students"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">//6、发送 sql 语句 </span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 创建一个索引数组存储取出的对象	</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="35"></td><td><pre>//php HTML 混编</pre></td></tr><tr><td data-num="36"></td><td><pre>// 设置表头</pre></td></tr><tr><td data-num="37"></td><td><pre>echo "&lt;table border = '1'>";</pre></td></tr><tr><td data-num="38"></td><td><pre>echo "&lt;tr>&lt;th > 学生学号 & lt;/th>&lt;th > 学生姓名 & lt;/th>&lt;th > 英语成绩 & lt;/th>&lt;th > 数学成绩 & lt;/th>&lt;th > 语文成绩 & lt;th>&lt;/tr>";</pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>while ($row = mysql_fetch_assoc ($res))&#123;</pre></td></tr><tr><td data-num="41"></td><td><pre>    echo "&lt;tr>&lt;td>&#123;$row ['id']&#125;&lt;/td>&lt;td>&#123;$row ['name']&#125;&lt;/td>&lt;td>&#123;$row ['english']&#125;&lt;/td>&lt;td>&#123;$row ['math']&#125;&lt;/td>&lt;td>&#123;$row ['chinese']&#125;&lt;/td>&lt;/tr>";</pre></td></tr><tr><td data-num="42"></td><td><pre>&#125;</pre></td></tr><tr><td data-num="43"></td><td><pre>echo "&lt;/table>";</pre></td></tr><tr><td data-num="44"></td><td><pre>*/</pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment">//7、处理结果</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token comment">// 循环存进一行的数据</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token function">array_push</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">,</span> <span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token comment">// 转成 json 字符串</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token comment">//8、关闭数据库</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token delimiter important">?></span></pre></td></tr></table></figure><h2 id="ajax请求非同源url"><a class="anchor" href="#ajax请求非同源url">#</a> AJAX 请求非同源 URL</h2><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token comment">/* 	报错：</span></pre></td></tr><tr><td data-num="6"></td><td><pre>       已拦截跨源请求：同源策略禁止读取位于 https://api.asilu.com/weather/ 的远程资源。（原因：CORS 头缺少 'Access-Control-Allow-Origin'）。</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>       【注】ajax 只能下载同源的数据，跨源的数据是禁止下载。</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>       同源策略：</pre></td></tr><tr><td data-num="11"></td><td><pre>           1、通协议</pre></td></tr><tr><td data-num="12"></td><td><pre>           2、同域名 / 同 IP</pre></td></tr><tr><td data-num="13"></td><td><pre>           3、同端口号</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>       跨源的需求：</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>       跨源的方式：</pre></td></tr><tr><td data-num="18"></td><td><pre>           1、修改 ajax 同源协议 (不建议)</pre></td></tr><tr><td data-num="19"></td><td><pre>           2、委托 php 文件进行跨源</pre></td></tr><tr><td data-num="20"></td><td><pre>           3、JSONP</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>   */</pre></td></tr><tr><td data-num="23"></td><td><pre>   oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>       <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>       xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"https://api.asilu.com/weather/"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>       xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>       xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>           <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>               <span class="token function">alert</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>           <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>btn1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>下载数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h2 id="jsonp跨域"><a class="anchor" href="#jsonp跨域">#</a> JSONP 跨域</h2><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"下载的数据："</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="7"></td><td><pre>    1、在需要的时候加载数据</pre></td></tr><tr><td data-num="8"></td><td><pre>    2、能否引入除.js 文件以外的其他路径，重点是代码是否是我们想要的代码</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    【注】对于计算机来说，文件后缀是没有任何用处的。</pre></td></tr><tr><td data-num="11"></td><td><pre>    后缀作用：用于给计算机上的软件，快速识别应该用哪个软件打开。</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    JSONP 跨域的使用流程：</pre></td></tr><tr><td data-num="14"></td><td><pre>        1、先去声明一个函数，这个函数有一个形参，这个形参会拿到我们想要下载的数据，使用这个参数做后续数据的处理</pre></td></tr><tr><td data-num="15"></td><td><pre>        2、在需要下载数据的时候，动态创建 script 标签，将标签 src 属性设置成，下载数据的链接</pre></td></tr><tr><td data-num="16"></td><td><pre>        3、当 script 插入到页面上的时候，就会，调用已经封装好的函数，将我们需要的数据传过来。</pre></td></tr><tr><td data-num="17"></td><td><pre>*/</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">&lt;!-- https://api.asilu.com/weather/ --></span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre> window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>     <span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>     oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>         <span class="token keyword">var</span> oScript <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>         oScript<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'demo.txt'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>         document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oScript<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>btn1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>下载数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="33"></td><td><pre>  <span class="token comment">&lt;!-- src 这个属性是可以完成跨源。 --></span></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://b.hiphotos.baidu.com/image/pic/item/908fa0ec08fa513db777cf78376d55fbb3fbd9b3.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h2 id="tcpudp协议"><a class="anchor" href="#tcpudp协议">#</a> TCP/UDP 协议</h2><h3 id="tcp-transmission-control-protocol-传输控制协议"><a class="anchor" href="#tcp-transmission-control-protocol-传输控制协议">#</a> TCP (Transmission Control Protocol) 传输控制协议</h3><pre><code class="language-text">TCP：面向链接协议。（快递，外卖）
    传输数据：
        1、建立链接  三次握手
        2、传输数据
        3、断开链接  四次挥手

    优点：
        1、安全
        2、准确度非常高
    缺点：
        1、传输效率低
        2、耗资源
</code></pre><ul><li><p>TCP 协议三次握手建立连接</p></li><li><p>TCP 协议四次挥手断开连接</p></li></ul><h3 id="udp-user-datagram-protocol-用户数据报协议"><a class="anchor" href="#udp-user-datagram-protocol-用户数据报协议">#</a> UDP (User Datagram Protocol) 用户数据报协议</h3><pre><code class="language-text">UDP：无连接协议（适用于对于及时性要求高，但是对于数据准确度要求不高）
    传输数据：
        直接传，根本不管是否收到数据。

    缺点：
        1、不安全
        2、准确度非常低
        3、经常丢包
    优点：
        1、及时性非常高
        2、消耗资源少
    【注】视频聊天。
</code></pre><h4 id="两者区别"><a class="anchor" href="#两者区别">#</a> 两者区别</h4><table><thead><tr><th style="text-align:center">TCP</th><th style="text-align:center">UDP</th></tr></thead><tbody><tr><td style="text-align:center">需要建立 TCP 连接</td><td style="text-align:center">不需要建立连接</td></tr><tr><td style="text-align:center">提供可靠交付</td><td style="text-align:center">尽最大努力交付</td></tr><tr><td style="text-align:center">面向字节流</td><td style="text-align:center">面向报文</td></tr><tr><td style="text-align:center">由自己决定（协议）是否发出报文</td><td style="text-align:center">收到的报文都发出去</td></tr><tr><td style="text-align:center">有流量控制、拥塞控制</td><td style="text-align:center">无拥塞控制</td></tr><tr><td style="text-align:center">只能有两个端点，即只能点对点（一对一）通信</td><td style="text-align:center">支持一对一、一对多、多对一及多对多通信</td></tr><tr><td style="text-align:center">首部有 20 个字节</td><td style="text-align:center">首部开销小，只有 8 个字节</td></tr></tbody></table><h2 id="cookie-会话跟踪技术"><a class="anchor" href="#cookie-会话跟踪技术">#</a> Cookie 会话跟踪技术</h2><pre><code class="language-text">COOKIE的诞生，为什么叫会话跟踪技术？

在一次会话从开始到结束的整个过程，全程跟踪记录客户端的状态（例如：是否登录、购物车信息、是否已下载、是否 已点赞、视频播放进度等等）

1、可以设置过期时间
2、最大可以存储4KB，每一个域名下最多可以存储50条数据(不同的浏览器，有偏差)
【注】只能字符串。一般只存储一些重要的信息。登录，购物车信息，是否点赞，视频播放进度等。
</code></pre><h3 id="组成"><a class="anchor" href="#组成">#</a> 组成</h3><pre><code class="language-text">cookie 由名/值对形式的文本组成：name=value。完整格式为：   
	name=value;[expires=date];[path=path];[domain=somewhere.com];[secure]，
[注]中括号是可选，name=value 是必选。
[注]火狐支持本地加载的文件缓存cookie，谷歌只支持服务器加载文件缓存cookie
</code></pre><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 设置 cookie</span></pre></td></tr><tr><td data-num="2"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'username=田雨飞'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 获取 cookie</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">/* 编码与解码</span></pre></td></tr><tr><td data-num="7"></td><td><pre>为了保证在存储 cookie 和读取 cookie 的过程中，防止中文乱码，一般情况下，将中文编码存储，读取的时候再解码读取。*/</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="9"></td><td><pre>    encodeURIComponent  将中文编译成对应的字符</pre></td></tr><tr><td data-num="10"></td><td><pre>    decodeURIComponent  将对应的字符编译成中文</pre></td></tr><tr><td data-num="11"></td><td><pre>*/</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 设置 cookie</span></pre></td></tr><tr><td data-num="13"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'username='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">"钢铁侠"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 获取 cookie</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="expires-失效时间"><a class="anchor" href="#expires-失效时间">#</a> expires 失效时间</h3><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="3"></td><td><pre>    expires：过期时间</pre></td></tr><tr><td data-num="4"></td><td><pre>        必须填写，日期对象</pre></td></tr><tr><td data-num="5"></td><td><pre>        【注】系统会自动清除过期的 cookie。</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 获取 n 天后的日期</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">function</span> <span class="token function">afterOfDate</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">var</span> day <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>n <span class="token operator">+</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">return</span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 快速获取过去时间的方法</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"username=xxx;expires="</span> <span class="token operator">+</span> <span class="token function">afterOfDate</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre> window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>     <span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>     oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token comment">// document.cookie = "username=;expires=" + afterOfDate(-1);</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"username=;expires="</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>btn1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>删除cookie操作<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="path-限制访问路径"><a class="anchor" href="#path-限制访问路径">#</a> path 限制访问路径</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    path  限制访问路径</pre></td></tr><tr><td data-num="3"></td><td><pre>    默认是加载当前.html 文件的路径</pre></td></tr><tr><td data-num="4"></td><td><pre>    【注】我们设置的 cookie 的路径，和加载当前文件的路径，必须一致，如果不一致，cookie 访问失败。</pre></td></tr><tr><td data-num="5"></td><td><pre>    path=path 限制访问路径，当设置了路径，那么只有设置的那个路径文件才可以访问 cookie。</pre></td></tr><tr><td data-num="6"></td><td><pre>*/</pre></td></tr><tr><td data-num="7"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'username=xxx;path='</span> <span class="token operator">+</span> <span class="token string">"/cookie"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// document.cookie = 'username=xxx;path=' + "/cookie/demo";</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>decument<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="domain-限制访问域名"><a class="anchor" href="#domain-限制访问域名">#</a> domain 限制访问域名</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    domain 限制访问域名</pre></td></tr><tr><td data-num="3"></td><td><pre>        默认是加载当前.html 文件的服务器 域名 /ip</pre></td></tr><tr><td data-num="4"></td><td><pre>    【注】如果加载当前文件域名和设置的域名不一致，设置 cookie 失败。</pre></td></tr><tr><td data-num="5"></td><td><pre>*/</pre></td></tr><tr><td data-num="6"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'username=xxx;domain='</span> <span class="token operator">+</span> <span class="token string">"localhosx"</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 本机是 localhost 不能完成设置 cookie 操作</span></pre></td></tr></table></figure><h3 id="secure-安全设置"><a class="anchor" href="#secure-安全设置">#</a> secure 安全设置</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    secure </pre></td></tr><tr><td data-num="3"></td><td><pre>        设置 cookie，可以通过 http 协议加载文件设置 也可以通过 https 协议加载文件设置</pre></td></tr><tr><td data-num="4"></td><td><pre>        【注】设置这个字段以后，只能设置 https 协议加载 cookie.</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>        https  证书认证协议</pre></td></tr><tr><td data-num="7"></td><td><pre>        http  </pre></td></tr><tr><td data-num="8"></td><td><pre> */</pre></td></tr><tr><td data-num="9"></td><td><pre>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'username=xxx;secure'</span></pre></td></tr></table></figure><h2 id="封装cookie"><a class="anchor" href="#封装cookie">#</a> 封装 cookie</h2><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="3"></td><td><pre>    setCookie ()</pre></td></tr><tr><td data-num="4"></td><td><pre>    getCookie ()</pre></td></tr><tr><td data-num="5"></td><td><pre>    removeCookie ();</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    encodeURIComponent  将中文编译成对应的字符</pre></td></tr><tr><td data-num="8"></td><td><pre>    decodeURIComponent  将对应的字符编译成中文</pre></td></tr><tr><td data-num="9"></td><td><pre>*/</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//name=value;[expires=date];[path=path];[domain=somewhere.com];[secure]，</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="13"></td><td><pre>    expires  传入对应天数</pre></td></tr><tr><td data-num="14"></td><td><pre>*/</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>expires<span class="token punctuation">,</span> path<span class="token punctuation">,</span> domain<span class="token punctuation">,</span> secure<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">var</span> cookieStr <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>expires<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        cookieStr <span class="token operator">+=</span> <span class="token string">";expires="</span> <span class="token operator">+</span> <span class="token function">afterOfDate</span><span class="token punctuation">(</span>expires<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        cookieStr <span class="token operator">+=</span> <span class="token string">";path="</span> <span class="token operator">+</span> path<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>domain<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        cookieStr <span class="token operator">+=</span> <span class="token string">";domain="</span> <span class="token operator">+</span> domain<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>secure<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        cookieStr <span class="token operator">+=</span> <span class="token string">";secure"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> cookieStr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 获取 n 天后的日期</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">function</span> <span class="token function">afterOfDate</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">var</span> day <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>n <span class="token operator">+</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token keyword">return</span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">"超级英雄"</span><span class="token punctuation">,</span> <span class="token string">"钢铁侠"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    expires<span class="token operator">:</span> <span class="token number">7</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">"DC"</span><span class="token punctuation">,</span> <span class="token string">"海王"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    expires<span class="token operator">:</span> <span class="token number">30</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">"神话"</span><span class="token punctuation">,</span> <span class="token string">"孙悟空"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    expires<span class="token operator">:</span> <span class="token number">60</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token comment">// 超级英雄 = 钢铁侠；DC = 海王；神话 = 孙悟空 </span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token comment">//  alert(decodeURIComponent(document.cookie));</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">"超级英雄"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">"DC"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">"神话"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token keyword">var</span> cookieStr <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token keyword">var</span> start <span class="token operator">=</span> cookieStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>start <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>        <span class="token comment">// 查询从 start 位置开始遇到的第一个分号</span></pre></td></tr><tr><td data-num="69"></td><td><pre>        <span class="token keyword">var</span> end <span class="token operator">=</span> cookieStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">";"</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>     <span class="token keyword">if</span><span class="token punctuation">(</span>end <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>         end <span class="token operator">=</span> cookieStr<span class="token punctuation">.</span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre></pre></td></tr><tr><td data-num="74"></td><td><pre>     <span class="token comment">// 进行字符串提取</span></pre></td></tr><tr><td data-num="75"></td><td><pre>     <span class="token keyword">var</span> str <span class="token operator">=</span> cookieStr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>     <span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>     <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="80"></td><td><pre></pre></td></tr><tr><td data-num="81"></td><td><pre><span class="token keyword">function</span> <span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"=;expires="</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="84"></td><td><pre></pre></td></tr><tr><td data-num="85"></td><td><pre>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>        <span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token string">"超级英雄"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="90"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="93"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="94"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>btn1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>删除cookie<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>     【注】在使用一个方法实现三个功能的时候。</pre></td></tr><tr><td data-num="3"></td><td><pre>          通过传入参数的数量识别：</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>          设置 cookie</pre></td></tr><tr><td data-num="6"></td><td><pre>          $cookie (name, value);</pre></td></tr><tr><td data-num="7"></td><td><pre>          $cookie (name, value, &#123;&#125;);</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>          获取 cookie</pre></td></tr><tr><td data-num="10"></td><td><pre>          $cookie (name);</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>          删除 cookie</pre></td></tr><tr><td data-num="13"></td><td><pre>          $cookie (name, null);</pre></td></tr><tr><td data-num="14"></td><td><pre> */</pre></td></tr><tr><td data-num="15"></td><td><pre> <span class="token keyword">function</span> <span class="token function">$cookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>     <span class="token comment">// 判断传入参数的个数</span></pre></td></tr><tr><td data-num="17"></td><td><pre>     <span class="token keyword">switch</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>         <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>             <span class="token keyword">return</span> <span class="token function">getCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>             <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>         <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="22"></td><td><pre>             <span class="token keyword">if</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>                 <span class="token function">removeCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>             <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                 <span class="token function">setCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>             <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>             <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>         <span class="token keyword">default</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="29"></td><td><pre>         <span class="token function">setCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>             <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="闭包"><a class="anchor" href="#闭包">#</a> 闭包</h2><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>     什么是闭包？</pre></td></tr><tr><td data-num="3"></td><td><pre>         1、函数嵌套函数</pre></td></tr><tr><td data-num="4"></td><td><pre>         2、内部函数引用外部函数到的变量或者形参</pre></td></tr><tr><td data-num="5"></td><td><pre>         3、被引用的变量或者形参就不会被垃圾回收机制所回收，常驻内存。</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token comment">// 回顾垃圾回收机制：函数作用域（结果）</span></pre></td></tr><tr><td data-num="9"></td><td><pre> <span class="token comment">/* function show (num1)&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>     var num2 = 20;</pre></td></tr><tr><td data-num="11"></td><td><pre>     alert (num1 + "," + num2);</pre></td></tr><tr><td data-num="12"></td><td><pre> &#125;</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre> show (10);</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre> alert (num1); //num1 局部变量 未定义 报错 */</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre> <span class="token keyword">function</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token parameter">num1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>     <span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>     <span class="token keyword">function</span> <span class="token function">bbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>       <span class="token function">alert</span><span class="token punctuation">(</span>num1 <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>     <span class="token keyword">return</span> bbb<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre> <span class="token keyword">var</span> ccc <span class="token operator">=</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre> <span class="token function">ccc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>     闭包的好处：</pre></td></tr><tr><td data-num="3"></td><td><pre>         1、希望一个变量常驻在内存当中</pre></td></tr><tr><td data-num="4"></td><td><pre>         2、避免全局变量的污染</pre></td></tr><tr><td data-num="5"></td><td><pre>         3、声明私有变量</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>     【注】我们应该避免声明全局变量，避免全局变量的污染。</pre></td></tr><tr><td data-num="8"></td><td><pre>  */</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token comment">// 例子：</span></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token comment">/*  var a = 2; // 全局变量</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  function show ()&#123;</pre></td></tr><tr><td data-num="13"></td><td><pre>      a++;  </pre></td></tr><tr><td data-num="14"></td><td><pre>      alert (a);</pre></td></tr><tr><td data-num="15"></td><td><pre>  &#125;</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>  show (); //3</pre></td></tr><tr><td data-num="18"></td><td><pre>  show (); //4</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>  alert (a); // 4 */</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre> <span class="token comment">/*  function show ()&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      var a = 2; // 局部变量</pre></td></tr><tr><td data-num="24"></td><td><pre>      a++;  </pre></td></tr><tr><td data-num="25"></td><td><pre>      alert (a);</pre></td></tr><tr><td data-num="26"></td><td><pre>  &#125;</pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>  show (); //3</pre></td></tr><tr><td data-num="29"></td><td><pre>  show (); //4</pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>  alert (a); // 报错 */</pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="33"></td><td><pre> <span class="token comment">/* </span></pre></td></tr><tr><td data-num="34"></td><td><pre> 问题：a 要进行累加，并且我们不能声明全局变量。</pre></td></tr><tr><td data-num="35"></td><td><pre> 解决：使用闭包</pre></td></tr><tr><td data-num="36"></td><td><pre> */</pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token comment">// 写法一</span></pre></td></tr><tr><td data-num="38"></td><td><pre> <span class="token comment">/* function aaa ()&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>     var a = 2;  // 私有变量</pre></td></tr><tr><td data-num="40"></td><td><pre>     function bbb ()&#123;</pre></td></tr><tr><td data-num="41"></td><td><pre>         a++;</pre></td></tr><tr><td data-num="42"></td><td><pre>         alert (a);</pre></td></tr><tr><td data-num="43"></td><td><pre>     &#125;</pre></td></tr><tr><td data-num="44"></td><td><pre>     return bbb;</pre></td></tr><tr><td data-num="45"></td><td><pre> &#125;</pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre> var ccc = aaa ();</pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre> ccc (); // 3	</pre></td></tr><tr><td data-num="50"></td><td><pre> ccc (); // 4</pre></td></tr><tr><td data-num="51"></td><td><pre> alert (a);  //a is not defined  */</pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token comment">// 写法二</span></pre></td></tr><tr><td data-num="53"></td><td><pre> <span class="token comment">/* var ccc = (function ()&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>     var a = 2;  // 私有变量</pre></td></tr><tr><td data-num="55"></td><td><pre>     return function ()&#123;</pre></td></tr><tr><td data-num="56"></td><td><pre>         a++;</pre></td></tr><tr><td data-num="57"></td><td><pre>         alert (a);</pre></td></tr><tr><td data-num="58"></td><td><pre>     &#125;;</pre></td></tr><tr><td data-num="59"></td><td><pre> &#125;)();</pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre> ccc (); // 3</pre></td></tr><tr><td data-num="62"></td><td><pre> ccc (); // 4</pre></td></tr><tr><td data-num="63"></td><td><pre> alert (a);  //a is not defined */</pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="65"></td><td><pre> <span class="token keyword">var</span> ccc <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>   <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>       a<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>       <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="71"></td><td><pre> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre> <span class="token function">ccc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 3</span></pre></td></tr><tr><td data-num="74"></td><td><pre> <span class="token function">ccc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 4</span></pre></td></tr></table></figure><h3 id="立即执行函数"><a class="anchor" href="#立即执行函数">#</a> 立即执行函数</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 写法一</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* function show()&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    alert("hello world");</pre></td></tr><tr><td data-num="4"></td><td><pre>&#125; */</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* var show = function()&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    alert("hello world");</pre></td></tr><tr><td data-num="7"></td><td><pre>&#125;</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>show(); */</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 写法二  (function ()&#123;&#125;)();</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">//() 优先级最高所以在 function () 外面包裹 ()</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="私有化"><a class="anchor" href="#私有化">#</a> 私有化</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>有一个团队，ABC 三位员工，一起开发项目，避免全局变量污染。</pre></td></tr><tr><td data-num="3"></td><td><pre>*/</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//A 员工的代码和函数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  <span class="token comment">// 私有变量</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 私有方法</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        count <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">bbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        count <span class="token operator">*=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// 对外</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        outA<span class="token operator">:</span> aaa<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        outB<span class="token operator">:</span> bbb</pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">outA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//15</span></pre></td></tr><tr><td data-num="26"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">outB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//300</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">//B 员工代码和函数</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">var</span> moduleB <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        count <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">bbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        count <span class="token operator">*=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token comment">// 对外</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        outA<span class="token operator">:</span> aaa<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        outB<span class="token operator">:</span> bbb</pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>moduleB<span class="token punctuation">.</span><span class="token function">outA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//11</span></pre></td></tr><tr><td data-num="49"></td><td><pre>moduleB<span class="token punctuation">.</span><span class="token function">outB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//220</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token comment">//  alert(count);</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>aaa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><blockquote><ul><li>闭包 - 内存泄漏</li><li>闭包 - 实战中的使用</li></ul></blockquote><h2 id="gulp"><a class="anchor" href="#gulp">#</a> Gulp</h2><pre><code class="language-text">6、安装gulp到本地
 【注】windows不用注意这个细节，苹果电脑的每一条命令前面都必须加sudo(可以需要输入密码)
 &lt;1&gt;全局安装gulp
     cnpm install gulp -g
     gulp -v  查看安装的gulp版本

 &lt;2&gt;进入到你想开发项目的这个目录
 	创建gulpdemo文件夹
 	shift + 鼠标右键  start cmd 进入当前项目的cmd界面
     【注】windows的电脑是分磁盘的，如果你在别的盘创建的文件夹，应该先去切换盘符
         D:  + enter
         cd 目录路径
     清屏：window  cls       苹果/linux：clear

7、初始化当前目录
     cnpm init
 【注】生成package.json的文件，存放你当前项目一些配置信息。

8、在当前项目里面安装gulp到本地
		一般不用最新版4.0.2 删掉json文件 devDependencies里  &#123;&quot;gulp&quot;: &quot;^3.9.1&quot;&#125;和node_module文件夹
     cnpm install gulp@3.9.1 --save-dev
     cnpm i gulp@3.9.1 -D

     --save  将这个文件，安装到本地的当前文件夹
     -dev    将安装gulp的信息保存在package.json里面

9、创建一个gulpfile.js的文件，专门gulp去编写任务的。
10、gulpfile.js中编写任务，需要在控制台通过
     gulp 任务名   运行你编写好的任务

11、给gulp添加插件
     https://gulpjs.com/plugins/

 使用第三方插件的步骤：
     commonJS规范
 &lt;1&gt;先去下载插件到本地
     cnpm install 插件名字 --save-dev
     cnpm i 插件名字 -D
 &lt;2&gt;通过require() 引入文件
 &lt;3&gt;查阅插件的用法

重点：JQuery编写的代码大家不要合并和压缩。
记住：给别人代码的时候，node_models删除
拿到这个项目以后：进入目录，重新下载所有的依赖文件 cnpm install

温馨提示：配置两个以上屏幕，进行前端开发。
</code></pre><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    commonJS 规范</pre></td></tr><tr><td data-num="3"></td><td><pre>    1、require () 将这个模块引入  </pre></td></tr><tr><td data-num="4"></td><td><pre>    2、使用这个模块上的函数</pre></td></tr><tr><td data-num="5"></td><td><pre>*/</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 编写第一个任务</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="11"></td><td><pre>    第一个参数：任务的名字  自定义</pre></td></tr><tr><td data-num="12"></td><td><pre>    第二个参数：回调函数，任务执行的功能</pre></td></tr><tr><td data-num="13"></td><td><pre>*/</pre></td></tr><tr><td data-num="14"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="18"></td><td><pre>    gulp.src ()  找到源文件路径</pre></td></tr><tr><td data-num="19"></td><td><pre>    gulp.dest () 找到目的文件路径 【注】如果设置的这个目的文件路径不存在，会自动创建</pre></td></tr><tr><td data-num="20"></td><td><pre>    pipe ()  理解程序运行管道</pre></td></tr><tr><td data-num="21"></td><td><pre>*/</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">//1、整理.html 文件</span></pre></td></tr><tr><td data-num="24"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"copy-html"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"index.html"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="31"></td><td><pre> 2、静态文件</pre></td></tr><tr><td data-num="32"></td><td><pre> 拷贝图片</pre></td></tr><tr><td data-num="33"></td><td><pre>*/</pre></td></tr><tr><td data-num="34"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"images"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">// return gulp.src("img/*.jpg").pipe(gulp.dest("dist/images"));</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token comment">// return gulp.src("img/*.&#123;jpg,png&#125;").pipe(gulp.dest("dist/images"));</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token comment">// return gulp.src("img/*/*").pipe(gulp.dest("dist/images"));</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"img/**/*"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/images"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="44"></td><td><pre> 3、拷贝多个文件到一个目录中</pre></td></tr><tr><td data-num="45"></td><td><pre>*/</pre></td></tr><tr><td data-num="46"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"json/*.json"</span><span class="token punctuation">,</span> <span class="token string">"xml/*.xml"</span><span class="token punctuation">,</span> <span class="token string">"!xml/04.xml"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/data"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="53"></td><td><pre> 4、一次性执行多个任务的操作</pre></td></tr><tr><td data-num="54"></td><td><pre>*/</pre></td></tr><tr><td data-num="55"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"build"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"copy-html"</span><span class="token punctuation">,</span> <span class="token string">"images"</span><span class="token punctuation">,</span> <span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"任务执行完毕"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    监听，如果监听到文件有改变，会自动去执行对应的任务，更新数据</pre></td></tr><tr><td data-num="3"></td><td><pre>*/</pre></td></tr><tr><td data-num="4"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"watch"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">/* </span></pre></td></tr><tr><td data-num="6"></td><td><pre>     第一个参数，是文件监听的路径</pre></td></tr><tr><td data-num="7"></td><td><pre>     第二个参数，我们要去执行的任务</pre></td></tr><tr><td data-num="8"></td><td><pre>    */</pre></td></tr><tr><td data-num="9"></td><td><pre>    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">"index.html"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"copy-html"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">"img/**/*"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"images"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"json/*.json"</span><span class="token punctuation">,</span> <span class="token string">"xml/*.xml"</span><span class="token punctuation">,</span> <span class="token string">"!xml/04.xml"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">"stylesheet/index.scss"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'sass'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">"javascript/*.js"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'scripts'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="17"></td><td><pre>    gulp-connect 启动一个服务器</pre></td></tr><tr><td data-num="18"></td><td><pre>*/</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">const</span> connect <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-connect"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"server"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    connect<span class="token punctuation">.</span><span class="token function">server</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        root<span class="token operator">:</span> <span class="token string">"dist"</span><span class="token punctuation">,</span> <span class="token comment">// 设置跟目录</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        port<span class="token operator">:</span> <span class="token number">8888</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        livereload<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 启动实时刷新功能</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 同时启动监听和服务   default 我们可以直接在控制台通过  gulp 命令启动</span></pre></td></tr><tr><td data-num="31"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"watch"</span><span class="token punctuation">,</span> <span class="token string">"server"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/*              </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    使用第三方插件的步骤：</pre></td></tr><tr><td data-num="3"></td><td><pre>             commonJS 规范</pre></td></tr><tr><td data-num="4"></td><td><pre>         &lt;1 > 先去下载插件到本地</pre></td></tr><tr><td data-num="5"></td><td><pre>             cnpm install 插件名字 --save-dev</pre></td></tr><tr><td data-num="6"></td><td><pre>             cnpm i 插件名字 -D</pre></td></tr><tr><td data-num="7"></td><td><pre>         &lt;2 > 通过 require () 引入文件</pre></td></tr><tr><td data-num="8"></td><td><pre>         &lt;3 > 查阅插件的用法 </pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    开发版本  index.css</pre></td></tr><tr><td data-num="11"></td><td><pre>    上线版本  index.min.css</pre></td></tr><tr><td data-num="12"></td><td><pre>*/</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">const</span> sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-sass"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 压缩 css  gulp-minify-css</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">const</span> minifyCSS <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-minify-css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 重命名插件 gulp-rename</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">const</span> rename <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-rename"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"sass"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"stylesheet/index.scss"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">sass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minifyCSS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">"index.min.css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="30"></td><td><pre>    处理 js 文件的插件</pre></td></tr><tr><td data-num="31"></td><td><pre>    gulp-concat  合并文件</pre></td></tr><tr><td data-num="32"></td><td><pre>    gulp-uglify  压缩.js 文件</pre></td></tr><tr><td data-num="33"></td><td><pre>*/</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">const</span> concat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-concat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-uglify"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"scripts"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"javascript/*.js"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">"index.js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">"index.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist/js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>connect<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h2 id="javascript模块化"><a class="anchor" href="#javascript模块化">#</a> Javascript 模块化</h2><h3 id="原始写法"><a class="anchor" href="#原始写法">#</a> 原始写法</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    tool.js ajax.js cookie.js</pre></td></tr><tr><td data-num="3"></td><td><pre>    实现的是函数的分文件存放。</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    【注】会引起全局变量污染。</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">function</span> <span class="token function">showA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">function</span> <span class="token function">showB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="对象写法"><a class="anchor" href="#对象写法">#</a> 对象写法</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    小 A 和 小 B</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    定义变量 对外都是暴露的，</pre></td></tr><tr><td data-num="5"></td><td><pre>    我们希望可以进行私有化。</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    count<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function-variable function">showA</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function-variable function">showB</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">var</span> moduleB <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    count<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token function-variable function">showA</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token function-variable function">showB</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">/=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">//moduleA.count = "hello";  一旦赋值会报错，因为暴露了</span></pre></td></tr><tr><td data-num="32"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">showA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">showB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>moduleB<span class="token punctuation">.</span><span class="token function">showA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>moduleB<span class="token punctuation">.</span><span class="token function">showB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="立即执行函数写法-闭包"><a class="anchor" href="#立即执行函数写法-闭包">#</a> 立即执行函数写法 (闭包)</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre>    解决的问题：</pre></td></tr><tr><td data-num="3"></td><td><pre>        1、解决全局变量污染</pre></td></tr><tr><td data-num="4"></td><td><pre>        2、实现私有化</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    新问题：</pre></td></tr><tr><td data-num="7"></td><td><pre>        想对 moduleA 进行拓展</pre></td></tr><tr><td data-num="8"></td><td><pre> */</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 私有变量</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">showA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 私有函数</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        count <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">showB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        count <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// 对外暴露</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        outA<span class="token operator">:</span> showA<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        outB<span class="token operator">:</span> showB</pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">outA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>moduleA<span class="token punctuation">.</span><span class="token function">outB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">//alert (count); 访问不到 count is not defined</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>showA<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// showA is not defined</span></pre></td></tr></table></figure><h3 id="放大模式"><a class="anchor" href="#放大模式">#</a> 放大模式</h3><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>moduleA.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>moduleA_plus.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> /* 无法保证先引用的是 moduleA.js 一旦不是则会报错 */</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment">/*	// 封装的 moduleA.js</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    	var moduleA = (function ()&#123;</pre></td></tr><tr><td data-num="6"></td><td><pre>        var count = 10; // 私有变量</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>        function showA ()&#123; // 私有函数</pre></td></tr><tr><td data-num="9"></td><td><pre>            count += 20;</pre></td></tr><tr><td data-num="10"></td><td><pre>            alert (count);</pre></td></tr><tr><td data-num="11"></td><td><pre>        &#125;</pre></td></tr><tr><td data-num="12"></td><td><pre>        function showB ()&#123;</pre></td></tr><tr><td data-num="13"></td><td><pre>            count *= 10;</pre></td></tr><tr><td data-num="14"></td><td><pre>            alert (count);</pre></td></tr><tr><td data-num="15"></td><td><pre>        &#125;</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>        // 对外暴露</pre></td></tr><tr><td data-num="18"></td><td><pre>        return &#123;</pre></td></tr><tr><td data-num="19"></td><td><pre>            outA: showA,</pre></td></tr><tr><td data-num="20"></td><td><pre>            outB: showB</pre></td></tr><tr><td data-num="21"></td><td><pre>        &#125;</pre></td></tr><tr><td data-num="22"></td><td><pre>    &#125;)();</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>	// 封装的 moduleA_plus.js</pre></td></tr><tr><td data-num="25"></td><td><pre>    moduleA = (function (mod)&#123;</pre></td></tr><tr><td data-num="26"></td><td><pre>        function showC ()&#123;</pre></td></tr><tr><td data-num="27"></td><td><pre>            alert ("hello world");</pre></td></tr><tr><td data-num="28"></td><td><pre>        &#125;</pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>        mod.outC = showC;</pre></td></tr><tr><td data-num="31"></td><td><pre>        return mod;</pre></td></tr><tr><td data-num="32"></td><td><pre>    &#125;)(moduleA); */</pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token comment">// alert(count);</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token comment">// alert(showA);</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="宽放大模式"><a class="anchor" href="#宽放大模式">#</a> 宽放大模式</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// moduleA.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">mod</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 私有变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">showA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 私有函数</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        count <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">showB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        count <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    mod<span class="token punctuation">.</span>outA <span class="token operator">=</span> showA<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    mod<span class="token punctuation">.</span>outB <span class="token operator">=</span> showB<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">// 对外暴露</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">return</span> mod<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>moduleA <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// moduleA_plus.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">mod</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">showC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    mod<span class="token punctuation">.</span>outC <span class="token operator">=</span> showC<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> mod<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>moduleA <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>moduleA_plus.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>moduleA.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>	/* 代码实现了引用顺序无关 */</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    moduleA<span class="token punctuation">.</span><span class="token function">outC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// alert(count);</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// alert(showA);</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h2 id="模块规范"><a class="anchor" href="#模块规范">#</a> 模块规范</h2><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="2"></td><td><pre> CommonJS 规范（服务器）编写代码</pre></td></tr><tr><td data-num="3"></td><td><pre> 声明:</pre></td></tr><tr><td data-num="4"></td><td><pre>     module.exports = &#123;</pre></td></tr><tr><td data-num="5"></td><td><pre>         outA: showA,</pre></td></tr><tr><td data-num="6"></td><td><pre>         outB: showB</pre></td></tr><tr><td data-num="7"></td><td><pre>     &#125;</pre></td></tr><tr><td data-num="8"></td><td><pre> 引入：（同步执行）</pre></td></tr><tr><td data-num="9"></td><td><pre>     var moduleA = require ('moduleA.js');</pre></td></tr><tr><td data-num="10"></td><td><pre>     moduleA.outA ();</pre></td></tr><tr><td data-num="11"></td><td><pre>     moduleA.outB ();</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre> AMD 规范：（客户端 / 浏览器） Asynchronous Module 异步模块定义</pre></td></tr><tr><td data-num="15"></td><td><pre> 声明：</pre></td></tr><tr><td data-num="16"></td><td><pre>     define (function ()&#123;</pre></td></tr><tr><td data-num="17"></td><td><pre>         // 代码</pre></td></tr><tr><td data-num="18"></td><td><pre>         return &#123;</pre></td></tr><tr><td data-num="19"></td><td><pre>             outA: showA,</pre></td></tr><tr><td data-num="20"></td><td><pre>             outB: showB</pre></td></tr><tr><td data-num="21"></td><td><pre>         &#125;</pre></td></tr><tr><td data-num="22"></td><td><pre>     &#125;)</pre></td></tr><tr><td data-num="23"></td><td><pre> 引入：（异步执行）</pre></td></tr><tr><td data-num="24"></td><td><pre>     require ("moduleA.js", function (moduleA)&#123;</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>         // 这里的代码。模块引入之后执行。</pre></td></tr><tr><td data-num="27"></td><td><pre>         moduleA.putA ();</pre></td></tr><tr><td data-num="28"></td><td><pre>         moduleA.outB ();</pre></td></tr><tr><td data-num="29"></td><td><pre>     &#125;)</pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>     alert ("hello world");</pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre> 小彩蛋：CMD  阿里</pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre> ECMA6（模块化规范）</pre></td></tr><tr><td data-num="37"></td><td><pre> 声明：</pre></td></tr><tr><td data-num="38"></td><td><pre>     export = &#123;</pre></td></tr><tr><td data-num="39"></td><td><pre>         outA: showA</pre></td></tr><tr><td data-num="40"></td><td><pre>         outB: showB</pre></td></tr><tr><td data-num="41"></td><td><pre>     &#125;</pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre> 引入：</pre></td></tr><tr><td data-num="44"></td><td><pre>     import moduleA from "moduleA.js"</pre></td></tr><tr><td data-num="45"></td><td><pre>     moduleA.outA ()</pre></td></tr><tr><td data-num="46"></td><td><pre>     moduleA.outB ();</pre></td></tr><tr><td data-num="47"></td><td><pre>*/</pre></td></tr></table></figure><h2 id="requirejs"><a class="anchor" href="#requirejs">#</a> require.js</h2><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre>// index.html</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">&lt;!-- 项目要引入一个 require.js 的 js 文件 --></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">&lt;!-- </span></pre></td></tr><tr><td data-num="4"></td><td><pre> 模块化开发的作用域：管理当前页面上引入的所有.js 文件的。</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre> defer async = 'true' 引入的所有.js 文件都是异步加载</pre></td></tr><tr><td data-num="7"></td><td><pre> data-main = ""  设置入口文件</pre></td></tr><tr><td data-num="8"></td><td><pre> 【注】每一个.html 文件都要一个入口文件，入口文件：管理当前.html 页面使用所有的.js 代码</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre> 【注】后续引入的所有.js，后缀都可以省略。</pre></td></tr><tr><td data-num="11"></td><td><pre>--></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>js/require.js<span class="token punctuation">'</span></span> <span class="token attr-name">async</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>true<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span> <span class="token attr-name">data-main</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>js/main<span class="token punctuation">'</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">&lt;!-- main.js 管理 index.html 页面上所有要用的.js 代码 --></span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// main.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="3"></td><td><pre> 引入模块 遵从 AMD 规范</pre></td></tr><tr><td data-num="4"></td><td><pre> 第一个参数，必须是数组</pre></td></tr><tr><td data-num="5"></td><td><pre>*/</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">/* require(["demo/add"], function(addObj)&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre> var res = addObj.outAdd(10, 20);</pre></td></tr><tr><td data-num="8"></td><td><pre> alert(res);</pre></td></tr><tr><td data-num="9"></td><td><pre> addObj.outShow();</pre></td></tr><tr><td data-num="10"></td><td><pre>&#125;) */</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="13"></td><td><pre> 我们可以配置路径，你就没必要再引入模块的时候再写路径</pre></td></tr><tr><td data-num="14"></td><td><pre>*/</pre></td></tr><tr><td data-num="15"></td><td><pre>require<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre> paths<span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>     <span class="token comment">// 自定义模块的名字：引入模块的路径</span></pre></td></tr><tr><td data-num="18"></td><td><pre>     add<span class="token operator">:</span> <span class="token string">"demo/add"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>     mul<span class="token operator">:</span> <span class="token string">'demo/mul'</span></pre></td></tr><tr><td data-num="20"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"add"</span><span class="token punctuation">,</span> <span class="token string">"mul"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">addObj<span class="token punctuation">,</span> mul</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre> <span class="token keyword">var</span> res <span class="token operator">=</span> addObj<span class="token punctuation">.</span><span class="token function">outAdd</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre> <span class="token function">alert</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre> addObj<span class="token punctuation">.</span><span class="token function">outShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre> <span class="token function">alert</span><span class="token punctuation">(</span>mul<span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// add.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="3"></td><td><pre> 小 A 同学封装，进行两个数的和计算的模块</pre></td></tr><tr><td data-num="4"></td><td><pre> 可以写很多个函数，一般情况下把实现同类型功能的函数，放在一个模块。</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre> 遵从 AMD 规范</pre></td></tr><tr><td data-num="7"></td><td><pre>*/</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    	<span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">ccc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"在mul中要去使用的函数"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// 对外暴露</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        outAdd<span class="token operator">:</span> add<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        outShow<span class="token operator">:</span> show<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        ccc<span class="token operator">:</span> ccc</pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// mul.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* </span></pre></td></tr><tr><td data-num="3"></td><td><pre> 小 B 同学开发</pre></td></tr><tr><td data-num="4"></td><td><pre> 求两个数的积</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre> 当前模块依赖另外一个模块</pre></td></tr><tr><td data-num="7"></td><td><pre>*/</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 引用了 add 的 ccc () 方法 数组 ["add"] 为引用路径</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"add"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">add</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    	add<span class="token punctuation">.</span><span class="token function">ccc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    	<span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    	mul<span class="token operator">:</span> mul</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/JS%E5%9F%BA%E7%A1%80/" rel="tag"><i class="ic i-tag"></i> JS基础</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-06-16 17:56:47" itemprop="dateModified" datetime="2021-06-16T17:56:47+08:00">2021-06-16</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="XXVV 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="XXVV 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="XXVV 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>XXVV <i class="ic i-at"><em>@</em></i>心に描く夢のヘブンズ</li><li class="link"><strong>本文链接：</strong> <a href="https://guairen0917.github.io/2020/09/21/JS/JS%E5%85%A5%E9%97%A8%EF%BC%886%EF%BC%89/" title="JS入门（6）">https://guairen0917.github.io/2020/09/21/JS/JS入门（6）/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2020/08/20/JS/JS%E5%85%A5%E9%97%A8%EF%BC%885%EF%BC%89/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciryrr3rj20zk0m8nhk.jpg" title="JS入门（5）"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Js</span><h3>JS入门（5）</h3></a></div><div class="item right"><a href="/2020/10/01/Git%E5%85%A5%E9%97%A8/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicmnywqgpj20zk0m8dwx.jpg" title="Git入门"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Git</span><h3>Git入门</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E5%85%A5%E9%97%A86"><span class="toc-number">1.</span> <span class="toc-text">JS 入门（6）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.1.</span> <span class="toc-text">服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php%E8%AF%AD%E6%B3%95%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">1.2.</span> <span class="toc-text">PHP 语法快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">1.2.1.</span> <span class="toc-text">输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.4.</span> <span class="toc-text">分支语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.2.5.</span> <span class="toc-text">数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql"><span class="toc-number">1.3.</span> <span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95"><span class="toc-number">1.3.1.</span> <span class="toc-text">登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.2.</span> <span class="toc-text">基本操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.3.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">1.3.4.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.3.5.</span> <span class="toc-text">SQL 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87php%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">通过 php 操作数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ajax%E8%AF%B7%E6%B1%82%E9%9D%9E%E5%90%8C%E6%BA%90url"><span class="toc-number">1.4.</span> <span class="toc-text">AJAX 请求非同源 URL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jsonp%E8%B7%A8%E5%9F%9F"><span class="toc-number">1.5.</span> <span class="toc-text">JSONP 跨域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcpudp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.</span> <span class="toc-text">TCP&#x2F;UDP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp-transmission-control-protocol-%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.1.</span> <span class="toc-text">TCP (Transmission Control Protocol) 传输控制协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#udp-user-datagram-protocol-%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.2.</span> <span class="toc-text">UDP (User Datagram Protocol) 用户数据报协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">两者区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie-%E4%BC%9A%E8%AF%9D%E8%B7%9F%E8%B8%AA%E6%8A%80%E6%9C%AF"><span class="toc-number">1.7.</span> <span class="toc-text">Cookie 会话跟踪技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">1.7.1.</span> <span class="toc-text">组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#expires-%E5%A4%B1%E6%95%88%E6%97%B6%E9%97%B4"><span class="toc-number">1.7.2.</span> <span class="toc-text">expires 失效时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#path-%E9%99%90%E5%88%B6%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84"><span class="toc-number">1.7.3.</span> <span class="toc-text">path 限制访问路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#domain-%E9%99%90%E5%88%B6%E8%AE%BF%E9%97%AE%E5%9F%9F%E5%90%8D"><span class="toc-number">1.7.4.</span> <span class="toc-text">domain 限制访问域名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#secure-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.7.5.</span> <span class="toc-text">secure 安全设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85cookie"><span class="toc-number">1.8.</span> <span class="toc-text">封装 cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">1.9.</span> <span class="toc-text">闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.9.1.</span> <span class="toc-text">立即执行函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E5%8C%96"><span class="toc-number">1.9.2.</span> <span class="toc-text">私有化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gulp"><span class="toc-number">1.10.</span> <span class="toc-text">Gulp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#javascript%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">1.11.</span> <span class="toc-text">Javascript 模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E5%86%99%E6%B3%95"><span class="toc-number">1.11.1.</span> <span class="toc-text">原始写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95"><span class="toc-number">1.11.2.</span> <span class="toc-text">对象写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%E5%86%99%E6%B3%95-%E9%97%AD%E5%8C%85"><span class="toc-number">1.11.3.</span> <span class="toc-text">立即执行函数写法 (闭包)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BE%E5%A4%A7%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.11.4.</span> <span class="toc-text">放大模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%BD%E6%94%BE%E5%A4%A7%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.11.5.</span> <span class="toc-text">宽放大模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="toc-number">1.12.</span> <span class="toc-text">模块规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#requirejs"><span class="toc-number">1.13.</span> <span class="toc-text">require.js</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2020/08/11/JS/JS%E5%85%A5%E9%97%A8%EF%BC%881%EF%BC%89/" rel="bookmark" title="JS入门（1）">JS入门（1）</a></li><li><a href="/2020/08/16/JS/JS%E5%85%A5%E9%97%A8%EF%BC%882%EF%BC%89/" rel="bookmark" title="JS入门（2）">JS入门（2）</a></li><li><a href="/2020/08/17/JS/JS%E5%85%A5%E9%97%A8%EF%BC%883%EF%BC%89/" rel="bookmark" title="JS入门（3）">JS入门（3）</a></li><li><a href="/2020/08/18/JS/BOM%20%E4%B8%8E%20DOM/" rel="bookmark" title="BOM 与 DOM">BOM 与 DOM</a></li><li><a href="/2020/08/19/JS/JS%E5%85%A5%E9%97%A8%EF%BC%884%EF%BC%89/" rel="bookmark" title="JS入门（4）">JS入门（4）</a></li><li><a href="/2020/08/20/JS/JS%E5%85%A5%E9%97%A8%EF%BC%885%EF%BC%89/" rel="bookmark" title="JS入门（5）">JS入门（5）</a></li><li class="active"><a href="/2020/09/21/JS/JS%E5%85%A5%E9%97%A8%EF%BC%886%EF%BC%89/" rel="bookmark" title="JS入门（6）">JS入门（6）</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="XXVV" data-src="/images/avatar.jpg"><p class="name" itemprop="name">XXVV</p><div class="description" itemprop="description">找个好工作，让亲戚朋友更有面子~</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">17</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">9</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">7</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0d1YWlyZW4wOTE3" title="https:&#x2F;&#x2F;github.com&#x2F;Guairen0917"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="aHR0cHM6Ly94eHcwQHFxLmNvbQ==" title="https:&#x2F;&#x2F;xxw0@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2020/08/20/JS/JS%E5%85%A5%E9%97%A8%EF%BC%885%EF%BC%89/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2020/10/01/Git%E5%85%A5%E9%97%A8/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Nodejs/" title="分类于 Nodejs">Nodejs</a></div><span><a href="/2021/01/01/Nodejs%E5%85%A5%E9%97%A8/" title="Nodejs入门">Nodejs入门</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Js/" title="分类于 Js">Js</a></div><span><a href="/2020/08/11/JS/JS%E5%85%A5%E9%97%A8%EF%BC%881%EF%BC%89/" title="JS入门（1）">JS入门（1）</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2021/06/11/hello-world/" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/CSS/" title="分类于 CSS">CSS</a></div><span><a href="/2020/08/14/CSS/Sass%20%E4%B8%8E%20Less/" title="Sass 与 Less">Sass 与 Less</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Js/" title="分类于 Js">Js</a></div><span><a href="/2020/08/20/JS/JS%E5%85%A5%E9%97%A8%EF%BC%885%EF%BC%89/" title="JS入门（5）">JS入门（5）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Js/" title="分类于 Js">Js</a></div><span><a href="/2020/08/18/JS/BOM%20%E4%B8%8E%20DOM/" title="BOM 与 DOM">BOM 与 DOM</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Js/" title="分类于 Js">Js</a></div><span><a href="/2020/08/19/JS/JS%E5%85%A5%E9%97%A8%EF%BC%884%EF%BC%89/" title="JS入门（4）">JS入门（4）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/CSS/" title="分类于 CSS">CSS</a></div><span><a href="/2020/08/12/CSS/CSS3%E5%85%A5%E9%97%A8%EF%BC%881%EF%BC%89/" title="CSS3入门（1）">CSS3入门（1）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/Jquery/" title="分类于 Jquery">Jquery</a></div><span><a href="/2020/11/01/Jquery/JQuery%E5%85%A5%E9%97%A8/" title="JQuery入门">JQuery入门</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web%E5%89%8D%E7%AB%AF/" title="分类于 web前端">web前端</a> <i class="ic i-angle-right"></i> <a href="/categories/web%E5%89%8D%E7%AB%AF/CSS/" title="分类于 CSS">CSS</a></div><span><a href="/2020/08/13/CSS/Flex%20%E4%B8%8E%20Grid/" title="Flex 与 Grid">Flex 与 Grid</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">XXVV @ XXVV</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2020/09/21/JS/JS入门（6）/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>